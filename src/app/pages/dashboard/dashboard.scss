@use '../../../styles/ui-shared' as ui;

.dashboard-page {
  max-width: 1080px; margin: 0 auto;
  padding: 32px 24px 80px;
  display: flex; flex-direction: column; gap: 32px;
  color: #123126;
}

.mode-switch {
  display: inline-flex; align-self: center; padding: 4px;
  background: #e5f2ee; border-radius: 999px;
  box-shadow: inset 0 0 0 1px rgba(18, 49, 38, 0.08); gap: 4px;
}
.mode-switch__btn {
  border: none; background: transparent; padding: 10px 26px; border-radius: 999px;
  font-weight: 600; font-size: 15px; color: #2f574b; cursor: pointer; transition: all 0.2s ease;
  &.is-active { background: #1c7c63; color: #fff; box-shadow: 0 6px 16px rgba(28,124,99,0.25); }
  &:hover:not(.is-active) { color: #1c7c63; }
}

.borrower-view, .lender-view { display: flex; flex-direction: column; gap: 28px; }
.borrower-overview, .lender-overview {
  display: flex; flex-direction: column; gap: 24px;
  h1, h2 { margin: 0; font-size: 26px; font-weight: 700; }
}

.overview-stats {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 18px;
}
.overview-card {
  background: #ffffff; border-radius: 18px; padding: 22px 24px;
  box-shadow: 0 14px 30px rgba(22, 60, 48, 0.08);
  border: 1px solid rgba(22, 60, 48, 0.06);

  &__label { font-size: 13px; text-transform: uppercase; letter-spacing: 0.08em; color: rgba(18,49,38,0.6); margin-bottom: 6px; }
  &__value { font-size: 24px; font-weight: 700; color: #123126; }
  &__helper { margin: 10px 0 0; color: rgba(18,49,38,0.65); font-size: 14px; }
  &.is-accent .overview-card__value { color: #1c7c63; }
}

.overview-actions { display: flex; gap: 16px; flex-wrap: wrap; }
.action-chip {
  display: inline-flex; align-items: center; gap: 10px; padding: 12px 18px;
  border-radius: 14px; border: 1px solid rgba(22, 60, 48, 0.14); background: #fff;
  font-weight: 600; color: #123126; cursor: pointer; transition: all 0.2s ease;
  &:hover { border-color: #1c7c63; box-shadow: 0 10px 24px rgba(22, 60, 48, 0.1); }
}
.action-chip__icon { font-size: 18px; }

.dashboard-tabs {
  display: inline-flex; gap: 8px; background: rgba(18,49,38,0.06); padding: 6px; border-radius: 12px; align-self: flex-start;
}
.dashboard-tabs__btn {
  border: none; background: transparent; padding: 10px 24px; border-radius: 10px;
  font-weight: 600; font-size: 14px; color: rgba(18,49,38,0.6); cursor: pointer; transition: all 0.2s ease;
  &.is-active { background: #ffffff; color: #1c7c63; box-shadow: 0 8px 20px rgba(22, 60, 48, 0.16); }
  &:hover:not(.is-active) { color: #1c7c63; }
}

.tab-description { margin: 0; color: rgba(18,49,38,0.6); font-size: 14px; }

.borrower-loans, .lender-loans { display: flex; flex-direction: column; gap: 18px; }

.borrower-loan-card, .lender-loan-card {
  @extend %card;
  padding: 20px 24px; display: flex; flex-direction: column; gap: 18px;
}
.lender-loan-card--marketplace { gap: 20px; }

.borrower-loan-card__header, .lender-loan-card__header {
  display: flex; align-items: flex-start; justify-content: space-between; gap: 16px;
  h3 { margin: 0; font-size: 18px; font-weight: 700; color: #123126; }
  p { margin: 4px 0 0; color: rgba(18, 49, 38, 0.6); font-size: 14px; }
}
.lender-loan-card__header--marketplace { align-items: center; }

.borrower-loan-card__amount, .lender-loan-card__amount { font-weight: 700; font-size: 18px; color: #1c7c63; }

.borrower-loan-card__meta, .lender-loan-card__meta { @extend .card-meta-grid; }
.lender-loan-card__meta--marketplace { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }

.borrower-loan-card__footer, .lender-loan-card__footer {
  display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 12px;
  color: rgba(18, 49, 38, 0.65);
}
.borrower-loan-card__footer-main { display: flex; flex-direction: column; gap: 6px; }
.lender-loan-card__footer-meta { display: flex; align-items: center; gap: 10px; }
.lender-loan-card__actions { display: inline-flex; gap: 12px; flex-wrap: wrap; }
.lender-loan-card__status { display: flex; }

.btn { @extend .btn; }
.status-pill { @extend .status-pill; }

.loan-note { margin: 0; font-size: 12px; color: rgba(18, 49, 38, 0.6); }

.status-banner {
  display: flex; justify-content: space-between; align-items: center; gap: 16px;
  padding: 14px 18px; border-radius: 14px; font-size: 14px;

  &.info { background: rgba(13, 110, 253, 0.12); color: #0b4aa2; }
  &.error { background: rgba(220, 53, 69, 0.12); color: #8a1f2b; }
}

.marketplace-requests { @extend .marketplace-requests; }
.borrower-request { @extend .borrower-request; }

@media (max-width: 720px) {
  .dashboard-page { padding: 24px 16px 60px; }
  .borrower-tabs, .lender-tabs { align-self: stretch; justify-content: space-between; }
  .borrower-loan-card__header, .lender-loan-card__header { flex-direction: column; align-items: flex-start; }
  .lender-loan-card__actions { width: 100%; justify-content: flex-start; }
}