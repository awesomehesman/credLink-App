<div class="borrow-page">
  <section class="borrower-view">
    @if (!hasLoans()) {
      <div class="empty-state">
        <h2>No loan offers yet</h2>
        <p>We will notify you as soon as new borrowing opportunities become available.</p>
      </div>
    } @else {
      @for (section of sections(); track section.id) {
        @if (section.items.length) {
          <div class="borrower-section">
            <header class="borrower-section__header">
              <h2>{{ section.title }}</h2>
              <p>{{ section.subtitle }}</p>
            </header>
            <div class="borrower-section__list" [class.is-grid]="section.id === 'preApproved'">
              @for (loan of section.items; track loan.amount) {
                <article class="loan-card">
                  @if (loan.badge) {
                    <span class="loan-card__badge">{{ loan.badge }}</span>
                  }
                  <div class="loan-card__provider">{{ loan.provider }}</div>
                  <h3 class="loan-card__title">{{ loan.amount }}</h3>
                  <p class="loan-card__term">{{ loan.duration }}</p>
                  <div class="loan-card__chance" [attr.data-level]="loan.approvalChance | lowercase">
                    Approval chance: {{ loan.approvalChance }}
                  </div>
                  <p class="loan-card__description">{{ loan.description }}</p>
                  <div class="loan-card__actions">
                    <button type="button" class="btn btn--primary">{{ loan.primaryAction }}</button>
                    <button type="button" class="btn btn--ghost">{{ loan.secondaryAction }}</button>
                  </div>
                </article>
              }
            </div>
          </div>
        }
      }
    }
  </section>
</div>
